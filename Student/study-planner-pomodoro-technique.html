<div class="separator" style="clear: both;"><a href="https://cdn-icons-png.flaticon.com/128/4342/4342729.png" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" width="320" data-original-height="128" data-original-width="128" src="https://cdn-icons-png.flaticon.com/128/4342/4342729.png"style='display:none'/></a></div>



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Planner - Pomodoro Technique</title>
    <style>
        :root {
            --primary: #4a6fa5;
            --secondary: #166088;
            --accent: #4caf50;
            --danger: #f44336;
            --light: #f5f5f5;
            --dark: #333;
            --pomodoro: #e74c3c;
            --break: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f2f5;
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1rem;
        }
        
        .app-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        @media (max-width: 768px) {
            .app-container {
                grid-template-columns: 1fr;
            }
        }
        
        .section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-right: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--secondary);
        }
        
        button.secondary {
            background-color: #6c757d;
        }
        
        button.secondary:hover {
            background-color: #5a6268;
        }
        
        button.success {
            background-color: var(--accent);
        }
        
        button.success:hover {
            background-color: #3d8b40;
        }
        
        button.danger {
            background-color: var(--danger);
        }
        
        button.danger:hover {
            background-color: #d32f2f;
        }
        
        .task-list {
            list-style-type: none;
            margin-top: 15px;
        }
        
        .task-item {
            background-color: var(--light);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            border-left: 4px solid var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .task-item.high-priority {
            border-left-color: var(--danger);
        }
        
        .task-item.medium-priority {
            border-left-color: #ff9800;
        }
        
        .task-item.low-priority {
            border-left-color: var(--accent);
        }
        
        .task-info h4 {
            margin-bottom: 5px;
        }
        
        .task-meta {
            font-size: 0.85rem;
            color: #666;
        }
        
        .task-actions button {
            margin-left: 5px;
            padding: 5px 10px;
            font-size: 0.85rem;
        }
        
        .timer-container {
            text-align: center;
            padding: 20px;
            background-color: var(--light);
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .timer-display {
            font-size: 4rem;
            font-weight: bold;
            margin: 20px 0;
            color: var(--pomodoro);
        }
        
        .timer-type {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .timer-controls button {
            padding: 10px 20px;
            font-size: 1rem;
        }
        
        .progress-container {
            margin-top: 20px;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--pomodoro);
            width: 0%;
            transition: width 0.3s;
        }
        
        .session-info {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .plan-summary {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--light);
            border-radius: 8px;
        }
        
        .plan-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }
        
        .plan-item:last-child {
            border-bottom: none;
        }
        
        .export-options {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
        
        .priority-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .priority-high {
            background-color: #ffebee;
            color: var(--danger);
        }
        
        .priority-medium {
            background-color: #fff3e0;
            color: #ff9800;
        }
        
        .priority-low {
            background-color: #e8f5e9;
            color: var(--accent);
        }
        
        .hidden {
            display: none;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background-color: var(--light);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Study Planner</h1>
            <p class="subtitle">Build a Pomodoro plan around your deadlines using priority scoring</p>
        </header>
        
        <div class="app-container">
            <div class="left-panel">
                <div class="section">
                    <h2 class="section-title">Add Study Task</h2>
                    <form id="task-form">
                        <div class="form-group">
                            <label for="task-name">Task Name</label>
                            <input type="text" id="task-name" placeholder="e.g., Math Chapter 5" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="task-deadline">Deadline</label>
                            <input type="date" id="task-deadline" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="task-estimate">Estimated Hours Needed</label>
                            <input type="number" id="task-estimate" min="0.5" step="0.5" placeholder="e.g., 3.5" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="task-priority">Priority Level</label>
                            <select id="task-priority">
                                <option value="high">High</option>
                                <option value="medium" selected>Medium</option>
                                <option value="low">Low</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="task-notes">Notes (Optional)</label>
                            <textarea id="task-notes" rows="3" placeholder="Additional details about the task..."></textarea>
                        </div>
                        
                        <button type="submit" class="success">Add Task</button>
                    </form>
                </div>
                
                <div class="section">
                    <h2 class="section-title">Your Tasks</h2>
                    <ul id="task-list" class="task-list">
                        <!-- Tasks will be added here dynamically -->
                    </ul>
                </div>
            </div>
            
            <div class="right-panel">
                <div class="section">
                    <h2 class="section-title">Pomodoro Timer</h2>
                    <div class="timer-container">
                        <div class="timer-type" id="timer-type">Pomodoro Session</div>
                        <div class="timer-display" id="timer-display">25:00</div>
                        <div class="timer-controls">
                            <button id="start-timer" class="success">Start</button>
                            <button id="pause-timer" class="secondary">Pause</button>
                            <button id="reset-timer" class="danger">Reset</button>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress" id="progress-bar"></div>
                            </div>
                            <div class="session-info">
                                <span id="session-count">Session: 0/4</span>
                                <span id="break-count">Break: 0/3</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-value" id="completed-pomodoros">0</div>
                            <div class="stat-label">Pomodoros Today</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="completed-tasks">0</div>
                            <div class="stat-label">Tasks Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="study-time">0h</div>
                            <div class="stat-label">Study Time</div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h2 class="section-title">Study Plan</h2>
                    <button id="generate-plan" class="success">Generate Study Plan</button>
                    
                    <div id="plan-summary" class="plan-summary hidden">
                        <h3>Your Study Plan</h3>
                        <div id="plan-items">
                            <!-- Plan items will be added here dynamically -->
                        </div>
                        
                        <div class="export-options">
                            <button id="export-pdf" class="secondary">Export as PDF</button>
                            <button id="export-word" class="secondary">Export as Word</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const taskForm = document.getElementById('task-form');
        const taskList = document.getElementById('task-list');
        const timerDisplay = document.getElementById('timer-display');
        const timerType = document.getElementById('timer-type');
        const startTimerBtn = document.getElementById('start-timer');
        const pauseTimerBtn = document.getElementById('pause-timer');
        const resetTimerBtn = document.getElementById('reset-timer');
        const progressBar = document.getElementById('progress-bar');
        const sessionCount = document.getElementById('session-count');
        const breakCount = document.getElementById('break-count');
        const generatePlanBtn = document.getElementById('generate-plan');
        const planSummary = document.getElementById('plan-summary');
        const planItems = document.getElementById('plan-items');
        const exportPdfBtn = document.getElementById('export-pdf');
        const exportWordBtn = document.getElementById('export-word');
        const completedPomodorosEl = document.getElementById('completed-pomodoros');
        const completedTasksEl = document.getElementById('completed-tasks');
        const studyTimeEl = document.getElementById('study-time');

        // App State
        let tasks = JSON.parse(localStorage.getItem('studyPlannerTasks')) || [];
        let timerInterval = null;
        let isTimerRunning = false;
        let isBreakTime = false;
        let currentTime = 25 * 60; // 25 minutes in seconds
        let sessionsCompleted = 0;
        let breaksCompleted = 0;
        let totalPomodorosToday = parseInt(localStorage.getItem('pomodorosToday')) || 0;
        let totalTasksCompleted = parseInt(localStorage.getItem('tasksCompleted')) || 0;
        let totalStudyTime = parseInt(localStorage.getItem('studyTime')) || 0;

        // Initialize the app
        function init() {
            renderTasks();
            updateStats();
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('task-deadline').min = today;
            
            // Load timer state if exists
            const savedTimerState = JSON.parse(localStorage.getItem('timerState'));
            if (savedTimerState) {
                currentTime = savedTimerState.currentTime;
                isBreakTime = savedTimerState.isBreakTime;
                sessionsCompleted = savedTimerState.sessionsCompleted;
                breaksCompleted = savedTimerState.breaksCompleted;
                updateTimerDisplay();
                updateSessionInfo();
            }
        }

        // Task Management
        taskForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const taskName = document.getElementById('task-name').value;
            const taskDeadline = document.getElementById('task-deadline').value;
            const taskEstimate = parseFloat(document.getElementById('task-estimate').value);
            const taskPriority = document.getElementById('task-priority').value;
            const taskNotes = document.getElementById('task-notes').value;
            
            const task = {
                id: Date.now(),
                name: taskName,
                deadline: taskDeadline,
                estimate: taskEstimate,
                priority: taskPriority,
                notes: taskNotes,
                completed: false,
                pomodoros: 0,
                createdAt: new Date().toISOString()
            };
            
            tasks.push(task);
            saveTasks();
            renderTasks();
            taskForm.reset();
        });

        function renderTasks() {
            taskList.innerHTML = '';
            
            if (tasks.length === 0) {
                taskList.innerHTML = '<p style="text-align: center; color: #666;">No tasks added yet.</p>';
                return;
            }
            
            // Sort tasks by priority and deadline
            const sortedTasks = [...tasks].sort((a, b) => {
                const priorityOrder = { high: 3, medium: 2, low: 1 };
                if (priorityOrder[b.priority] !== priorityOrder[a.priority]) {
                    return priorityOrder[b.priority] - priorityOrder[a.priority];
                }
                return new Date(a.deadline) - new Date(b.deadline);
            });
            
            sortedTasks.forEach(task => {
                const taskItem = document.createElement('li');
                taskItem.className = `task-item ${task.priority}-priority`;
                
                const daysLeft = Math.ceil((new Date(task.deadline) - new Date()) / (1000 * 60 * 60 * 24));
                
                taskItem.innerHTML = `
                    <div class="task-info">
                        <h4>${task.name} ${task.completed ? '<span style="color: var(--accent);">✓</span>' : ''}</h4>
                        <div class="task-meta">
                            <span>Deadline: ${formatDate(task.deadline)} (${daysLeft} days)</span> | 
                            <span>Estimate: ${task.estimate} hours</span> | 
                            <span class="priority-badge priority-${task.priority}">${task.priority.toUpperCase()}</span>
                        </div>
                        ${task.notes ? `<p>${task.notes}</p>` : ''}
                    </div>
                    <div class="task-actions">
                        ${!task.completed ? `
                            <button class="success complete-task" data-id="${task.id}">Complete</button>
                            <button class="danger delete-task" data-id="${task.id}">Delete</button>
                        ` : `
                            <button class="danger delete-task" data-id="${task.id}">Delete</button>
                        `}
                    </div>
                `;
                
                taskList.appendChild(taskItem);
            });
            
            // Add event listeners for task actions
            document.querySelectorAll('.complete-task').forEach(button => {
                button.addEventListener('click', function() {
                    const taskId = parseInt(this.getAttribute('data-id'));
                    completeTask(taskId);
                });
            });
            
            document.querySelectorAll('.delete-task').forEach(button => {
                button.addEventListener('click', function() {
                    const taskId = parseInt(this.getAttribute('data-id'));
                    deleteTask(taskId);
                });
            });
        }

        function completeTask(taskId) {
            const taskIndex = tasks.findIndex(task => task.id === taskId);
            if (taskIndex !== -1) {
                tasks[taskIndex].completed = true;
                saveTasks();
                renderTasks();
                
                totalTasksCompleted++;
                localStorage.setItem('tasksCompleted', totalTasksCompleted);
                updateStats();
            }
        }

        function deleteTask(taskId) {
            tasks = tasks.filter(task => task.id !== taskId);
            saveTasks();
            renderTasks();
        }

        function saveTasks() {
            localStorage.setItem('studyPlannerTasks', JSON.stringify(tasks));
        }

        // Timer Functionality
        startTimerBtn.addEventListener('click', startTimer);
        pauseTimerBtn.addEventListener('click', pauseTimer);
        resetTimerBtn.addEventListener('click', resetTimer);

        function startTimer() {
            if (isTimerRunning) return;
            
            isTimerRunning = true;
            timerInterval = setInterval(updateTimer, 1000);
            startTimerBtn.disabled = true;
            pauseTimerBtn.disabled = false;
            
            saveTimerState();
        }

        function pauseTimer() {
            if (!isTimerRunning) return;
            
            isTimerRunning = false;
            clearInterval(timerInterval);
            startTimerBtn.disabled = false;
            pauseTimerBtn.disabled = true;
            
            saveTimerState();
        }

        function resetTimer() {
            isTimerRunning = false;
            clearInterval(timerInterval);
            
            if (isBreakTime) {
                currentTime = 5 * 60; // 5 minutes for short break
            } else {
                currentTime = 25 * 60; // 25 minutes for pomodoro
            }
            
            updateTimerDisplay();
            startTimerBtn.disabled = false;
            pauseTimerBtn.disabled = true;
            
            saveTimerState();
        }

        function updateTimer() {
            currentTime--;
            
            if (currentTime <= 0) {
                // Timer finished
                clearInterval(timerInterval);
                isTimerRunning = false;
                
                if (!isBreakTime) {
                    // Pomodoro session completed
                    sessionsCompleted++;
                    totalPomodorosToday++;
                    localStorage.setItem('pomodorosToday', totalPomodorosToday);
                    
                    // Add 25 minutes to study time
                    totalStudyTime += 25;
                    localStorage.setItem('studyTime', totalStudyTime);
                    
                    updateStats();
                    
                    if (sessionsCompleted % 4 === 0) {
                        // Long break after 4 sessions
                        isBreakTime = true;
                        currentTime = 15 * 60; // 15 minutes
                        timerType.textContent = 'Long Break';
                    } else {
                        // Short break
                        isBreakTime = true;
                        currentTime = 5 * 60; // 5 minutes
                        timerType.textContent = 'Short Break';
                    }
                } else {
                    // Break finished
                    breaksCompleted++;
                    isBreakTime = false;
                    currentTime = 25 * 60; // 25 minutes
                    timerType.textContent = 'Pomodoro Session';
                }
                
                updateSessionInfo();
                updateTimerDisplay();
                startTimerBtn.disabled = false;
                pauseTimerBtn.disabled = true;
                
                // Play notification sound (if browser allows)
                playNotificationSound();
                
                saveTimerState();
                return;
            }
            
            updateTimerDisplay();
            updateProgressBar();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(currentTime / 60);
            const seconds = currentTime % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function updateProgressBar() {
            const totalTime = isBreakTime ? 
                (sessionsCompleted % 4 === 0 ? 15 * 60 : 5 * 60) : 
                25 * 60;
            const progress = ((totalTime - currentTime) / totalTime) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function updateSessionInfo() {
            sessionCount.textContent = `Session: ${sessionsCompleted}/4`;
            breakCount.textContent = `Break: ${breaksCompleted}/3`;
        }

        function saveTimerState() {
            const timerState = {
                currentTime,
                isBreakTime,
                sessionsCompleted,
                breaksCompleted
            };
            localStorage.setItem('timerState', JSON.stringify(timerState));
        }

        function playNotificationSound() {
            // Create a simple notification sound using Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 1);
            } catch (e) {
                console.log("Audio context not supported");
            }
        }

        // Study Plan Generation
        generatePlanBtn.addEventListener('click', generateStudyPlan);

        function generateStudyPlan() {
            const incompleteTasks = tasks.filter(task => !task.completed);
            
            if (incompleteTasks.length === 0) {
                planSummary.classList.remove('hidden');
                planItems.innerHTML = '<p>No tasks to plan. Add some tasks first!</p>';
                return;
            }
            
            // Calculate priority scores
            const tasksWithScores = incompleteTasks.map(task => {
                const daysUntilDeadline = Math.ceil((new Date(task.deadline) - new Date()) / (1000 * 60 * 60 * 24));
                const priorityWeight = {
                    high: 3,
                    medium: 2,
                    low: 1
                }[task.priority];
                
                // Score based on priority and urgency
                const urgencyScore = Math.max(1, 10 - daysUntilDeadline);
                const score = priorityWeight * urgencyScore;
                
                return {
                    ...task,
                    score
                };
            });
            
            // Sort by score (descending)
            tasksWithScores.sort((a, b) => b.score - a.score);
            
            // Generate plan
            let planHTML = '';
            let totalPomodoros = 0;
            
            tasksWithScores.forEach(task => {
                const pomodorosNeeded = Math.ceil(task.estimate * 2); // Assuming 1 pomodoro = 30 mins
                totalPomodoros += pomodorosNeeded;
                
                planHTML += `
                    <div class="plan-item">
                        <div>
                            <strong>${task.name}</strong>
                            <span class="priority-badge priority-${task.priority}">${task.priority.toUpperCase()}</span>
                        </div>
                        <div>
                            ${pomodorosNeeded} pomodoros (${task.estimate} hours)
                        </div>
                    </div>
                `;
            });
            
            planHTML += `
                <div class="plan-item" style="font-weight: bold; border-top: 2px solid #ddd; margin-top: 10px;">
                    <div>Total</div>
                    <div>${totalPomodoros} pomodoros (${(totalPomodoros * 0.5).toFixed(1)} hours)</div>
                </div>
            `;
            
            planItems.innerHTML = planHTML;
            planSummary.classList.remove('hidden');
        }

        // Export Functionality
        exportPdfBtn.addEventListener('click', exportToPdf);
        exportWordBtn.addEventListener('click', exportToWord);

        function exportToPdf() {
            alert('PDF export functionality would be implemented here. In a real application, this would generate a PDF document with your study plan.');
            // In a real implementation, you would use a library like jsPDF
        }

        function exportToWord() {
            alert('Word export functionality would be implemented here. In a real application, this would generate a Word document with your study plan.');
            // In a real implementation, you would generate a .docx file
        }

        // Utility Functions
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }

        function updateStats() {
            completedPomodorosEl.textContent = totalPomodorosToday;
            completedTasksEl.textContent = totalTasksCompleted;
            studyTimeEl.textContent = `${Math.floor(totalStudyTime / 60)}h ${totalStudyTime % 60}m`;
        }

        // Initialize the app
        init();
    </script>
</body>
</html>