<div class="separator" style="clear: both;"><a href="https://cdn-icons-png.flaticon.com/128/10838/10838114.png" style="display: block; padding: 1em 0px; text-align: center;"><img alt="" border="0" data-original-height="128" data-original-width="128" src="https://cdn-icons-png.flaticon.com/128/10838/10838114.png" style="display: none;" width="200" /></a></div>


<html lang="en">
<head>
  <meta charset="UTF-8"></meta>
  <title>Auto All Image Converter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      margin-bottom: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    canvas {
      max-width: 100%;
      margin-top: 20px;
      border: 1px solid #ccc;
    }
    input, select, button {
      margin: 10px;
      padding: 8px;
      font-size: 16px;
    }
    #controls {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Auto All Image Converter</h1>
    <input accept="image/*" id="imageInput" type="file" /><br />
    <canvas id="canvas"></canvas>

    <div id="controls">
      <label>Width: <input id="resizeWidth" placeholder="Auto" type="number" /></label>
      <label>Height: <input id="resizeHeight" placeholder="Auto" type="number" /></label>
      <label>Format:
        <select id="formatSelect">
          <option value="png">PNG</option>
          <option value="jpeg">JPEG</option>
          <option value="webp">WEBP</option>
        </select>
      </label><br />

      <button onclick="resizeAndConvert()">Convert &amp; <a href="https://essentialmost.com/be3/V-0.PN3WplvsbFmLVpJuZLDy0/2yNOTfE_2/MQDJAc4TLpTYYP1/MpTrYEw/MADnkv">Download</a></button>
      <button onclick="cropImage()">Crop (Center Square)</button>
      <button onclick="removeBackground()">Remove BG</button>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let originalImage = null;

    document.getElementById('imageInput').addEventListener('change', function(e) {
      const file = e.target.files[0];
      const reader = new FileReader();
      reader.onload = function(event) {
        const img = new Image();
        img.onload = function() {
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);
          originalImage = img;
        }
        img.src = event.target.result;
      }
      reader.readAsDataURL(file);
    });

    function resizeAndConvert() {
      const format = document.getElementById('formatSelect').value;
      const w = parseInt(document.getElementById('resizeWidth').value);
      const h = parseInt(document.getElementById('resizeHeight').value);

      let width = w || originalImage.width;
      let height = h || originalImage.height;

      canvas.width = width;
      canvas.height = height;
      ctx.drawImage(originalImage, 0, 0, width, height);

      const link = document.createElement('a');
      link.download = `converted_image.${format}`;
      link.href = canvas.toDataURL(`image/${format}`);
      link.click();
    }

    function cropImage() {
      const side = Math.min(originalImage.width, originalImage.height);
      const sx = (originalImage.width - side) / 2;
      const sy = (originalImage.height - side) / 2;

      canvas.width = side;
      canvas.height = side;
      ctx.drawImage(originalImage, sx, sy, side, side, 0, 0, side, side);
    }

    function removeBackground() {
      // Basic white-ish background remover using canvas
      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
      const data = imageData.data;

      for (let i = 0; i < data.length; i += 4) {
        const r = data[i];
        const g = data[i + 1];
        const b = data[i + 2];

        if (r > 200 && g > 200 && b > 200) {
          data[i + 3] = 0; // Set alpha to 0 (transparent)
        }
      }

      ctx.putImageData(imageData, 0, 0);
    }
  </script>
</body>
</html>
