<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Image Merger | MagicRills</title>
    <link rel="stylesheet" href="advanced-image-merger.css">
    <link rel="stylesheet" href="advanced-image-merger-animations.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Dark/Light Theme Toggle -->
    <div class="theme-toggle">
        <button id="themeBtn" class="theme-btn">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <!-- Main Dashboard -->
    <div class="advanced-image-merger-dashboard">
        <!-- Header -->
        <header class="aim-header">
            <h1 class="aim-title">
                <i class="fas fa-images"></i>
                Advanced Image Merger
            </h1>
            <p class="aim-subtitle">AI-Powered Image Merging with Smart Captions & Advanced Effects</p>
        </header>

        <!-- AI Suggestions Panel -->
        <div class="aim-ai-panel">
            <div class="ai-suggestion-card">
                <i class="fas fa-robot"></i>
                <span>AI Suggestion: Try "Collage layout with vintage filter and gradient background"</span>
                <button class="ai-apply-btn">Apply AI Magic</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="aim-main-content">
            <!-- Image Upload Sections -->
            <div class="aim-upload-section">
                <!-- Image 1 -->
                <div class="aim-image-box aim-box-glow">
                    <h3><i class="fas fa-cloud-upload-alt"></i> Image 1</h3>
                    <div class="aim-upload-area" id="aimUploadArea1">
                        <i class="fas fa-plus"></i>
                        <p>Click to upload first image</p>
                        <p class="aim-upload-hint">or drag & drop here</p>
                        <input type="file" id="aimFile1" accept="image/*" class="aim-file-input">
                    </div>
                    <div class="aim-preview" id="aimPreview1"></div>
                    
                    <!-- Caption Section -->
                    <div class="aim-caption-section">
                        <textarea placeholder="Enter caption or use AI generate..." id="aimCaption1" rows="3"></textarea>
                        <button class="aim-ai-caption-btn" onclick="generateAICaption(1)">
                            <i class="fas fa-magic"></i> AI Generate Caption
                        </button>
                    </div>
                </div>

                <!-- Image 2 -->
                <div class="aim-image-box aim-box-glow">
                    <h3><i class="fas fa-cloud-upload-alt"></i> Image 2</h3>
                    <div class="aim-upload-area" id="aimUploadArea2">
                        <i class="fas fa-plus"></i>
                        <p>Click to upload second image</p>
                        <p class="aim-upload-hint">or drag & drop here</p>
                        <input type="file" id="aimFile2" accept="image/*" class="aim-file-input">
                    </div>
                    <div class="aim-preview" id="aimPreview2"></div>
                    
                    <!-- Caption Section -->
                    <div class="aim-caption-section">
                        <textarea placeholder="Enter caption or use AI generate..." id="aimCaption2" rows="3"></textarea>
                        <button class="aim-ai-caption-btn" onclick="generateAICaption(2)">
                            <i class="fas fa-magic"></i> AI Generate Caption
                        </button>
                    </div>
                </div>
            </div>

            <!-- Enhanced Control Panel -->
            <div class="aim-control-panel">
                <div class="aim-control-section">
                    <h3><i class="fas fa-sliders-h"></i> Merge Settings & Layout</h3>
                    
                    <div class="aim-control-grid">
                        <div class="aim-control-group">
                            <label><i class="fas fa-th"></i> Layout Type</label>
                            <select id="aimLayout">
                                <option value="horizontal">Side by Side</option>
                                <option value="vertical">Stacked Vertical</option>
                                <option value="diagonal">Diagonal</option>
                                <option value="collage">Collage Style</option>
                                <option value="circle">Circle Frame</option>
                                <option value="polaroid">Polaroid Style</option>
                                <option value="overlay">Overlay Blend</option>
                                <option value="mirror">Mirror Effect</option>
                                <option value="split">Split Screen</option>
                                <option value="mosaic">Mosaic Grid</option>
                            </select>
                        </div>

                        <div class="aim-control-group">
                            <label><i class="fas fa-filter"></i> AI Filter</label>
                            <select id="aimFilter">
                                <option value="none">No Filter</option>
                                <option value="vintage">Vintage</option>
                                <option value="modern">Modern</option>
                                <option value="artistic">Artistic</option>
                                <option value="grayscale">Grayscale</option>
                                <option value="sepia">Sepia</option>
                                <option value="warm">Warm Tone</option>
                                <option value="cool">Cool Tone</option>
                                <option value="dramatic">Dramatic</option>
                                <option value="pastel">Pastel</option>
                            </select>
                        </div>

                        <div class="aim-control-group">
                            <label><i class="fas fa-arrows-alt-h"></i> Spacing</label>
                            <input type="range" id="aimSpacing" class="aim-range-slider" min="0" max="100" value="20">
                            <span id="aimSpacingValue">20px</span>
                        </div>

                        <div class="aim-control-group">
                            <label><i class="fas fa-palette"></i> Background</label>
                            <input type="color" id="aimBgColor" value="#ffffff">
                        </div>

                        <div class="aim-control-group">
                            <label><i class="fas fa-border-style"></i> Border</label>
                            <input type="range" id="aimBorder" class="aim-range-slider" min="0" max="20" value="0">
                            <span id="aimBorderValue">0px</span>
                        </div>

                        <div class="aim-control-group">
                            <label><i class="fas fa-square"></i> Round Corners</label>
                            <input type="range" id="aimBorderRadius" class="aim-range-slider" min="0" max="50" value="0">
                            <span id="aimBorderRadiusValue">0px</span>
                        </div>
                    </div>

                    <!-- Advanced Settings -->
                    <div class="aim-advanced-settings">
                        <button class="aim-advanced-toggle" onclick="toggleAdvancedSettings()">
                            <i class="fas fa-cogs"></i>
                            <span>Advanced Settings</span>
                            <i class="fas fa-chevron-down" id="advancedIcon"></i>
                        </button>
                        
                        <div class="aim-advanced-content" id="advancedSettings" style="display: none;">
                            <div class="aim-control-group">
                                <label><i class="fas fa-adjust"></i> Brightness</label>
                                <input type="range" id="aimBrightness" class="aim-range-slider" min="50" max="150" value="100">
                                <span id="aimBrightnessValue">100%</span>
                            </div>

                            <div class="aim-control-group">
                                <label><i class="fas fa-sun"></i> Contrast</label>
                                <input type="range" id="aimContrast" class="aim-range-slider" min="50" max="150" value="100">
                                <span id="aimContrastValue">100%</span>
                            </div>

                            <div class="aim-control-group">
                                <label><i class="fas fa-tint"></i> Saturation</label>
                                <input type="range" id="aimSaturation" class="aim-range-slider" min="0" max="200" value="100">
                                <span id="aimSaturationValue">100%</span>
                            </div>

                            <div class="aim-control-group">
                                <label><i class="fas fa-blur"></i> Blur</label>
                                <input type="range" id="aimBlur" class="aim-range-slider" min="0" max="10" value="0">
                                <span id="aimBlurValue">0px</span>
                            </div>

                            <div class="aim-control-group">
                                <label><i class="fas fa-magic"></i> Opacity</label>
                                <input type="range" id="aimOpacity" class="aim-range-slider" min="10" max="100" value="100">
                                <span id="aimOpacityValue">100%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Export Options -->
            <div class="aim-export-options">
                <h3><i class="fas fa-download"></i> Export Options</h3>
                <div class="aim-export-grid">
                    <button class="aim-export-btn active" data-format="png" onclick="setExportFormat('png')">
                        <i class="fas fa-file-image"></i> PNG
                    </button>
                    <button class="aim-export-btn" data-format="jpg" onclick="setExportFormat('jpg')">
                        <i class="fas fa-file-image"></i> JPG
                    </button>
                    <button class="aim-export-btn" data-format="webp" onclick="setExportFormat('webp')">
                        <i class="fas fa-file-image"></i> WEBP
                    </button>
                    <button class="aim-export-btn" data-format="high" onclick="setExportQuality('high')">
                        <i class="fas fa-star"></i> High Quality
                    </button>
                    <button class="aim-export-btn" data-format="medium" onclick="setExportQuality('medium')">
                        <i class="fas fa-star-half-alt"></i> Medium
                    </button>
                    <button class="aim-export-btn active" data-format="original" onclick="setExportQuality('original')">
                        <i class="fas fa-expand"></i> Original Size
                    </button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="aim-action-buttons">
                <button class="aim-btn aim-btn-primary" onclick="aimMergeImages()">
                    <i class="fas fa-layer-group"></i> Merge Images
                </button>
                <button class="aim-btn aim-btn-warning" onclick="aimPreviewMerge()">
                    <i class="fas fa-eye"></i> Preview Merge
                </button>
                <button class="aim-btn aim-btn-success" id="aimDownloadBtn" disabled onclick="aimDownloadImage()">
                    <i class="fas fa-download"></i> Download Result
                </button>
                <button class="aim-btn aim-btn-danger" onclick="aimClearAll()">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>

            <!-- Result Canvas -->
            <div class="aim-result-section">
                <canvas id="aimCanvas"></canvas>
            </div>
        </div>

        <!-- Footer -->
        <footer class="aim-footer">
            <p>Powered by MagicRills AI â€¢ Advanced Image Merger Tool v2.0</p>
            <p>Now with 10+ layouts, advanced filters, and professional export options</p>
        </footer>
    </div>

    <!-- JavaScript Files -->
    <script src="advanced-image-merger.js"></script>
    <script src="advanced-image-merger-ai.js"></script>
</body>
</html>